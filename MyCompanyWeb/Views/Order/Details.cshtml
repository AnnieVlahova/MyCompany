@using MyCompanyWeb.Data.Enum
@model Order
@{
}
<div class="my-2">
    <p>Order Details</p>
    <form method="post" asp-action="Details" enctype="multipart/form-data">
        <div class="mb-3">
            <label asp-for="Customer">Customer</label>
            <div type="text" class="form-control" id="customer" readonly>@Model.Customer.Name</div>
        </div>
        <div class="mb-3">
            <label asp-for="OrderStatus">Order Status</label>
            <div type="text" class="form-control" id="orderStatus" readonly>@Model.OrderStatus</div>
        </div>
        <div class="mb-3">
            <label asp-for="OrderedOn">Ordered On</label>
            <div type="date" class="form-control" id="orderedOn" readonly>@Model.OrderedOn</div>
        </div>
        <div class="mb-3">
            <label asp-for="DeliveryDate">Delivery Date</label>
            <div type="text" class="form-control" id="deliveryDate" readonly>@Model.DeliveryDate</div>
        </div>
        <div class="mb-30">
            <label asp-for="OrderProducts">Products</label>
            <table class="table">
                <thead>
                    <tr>
                        <th>Product Name</th>
                        <th>Type</th>
                        <th>Price per Product</th>
                        <th>Quantity</th>
                        <th>Discount</th>
                        <th>Final Price</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var orderProd in Model.OrderProducts)
                    {
                        <tr>
                            <td>
                                <div type="text" class="form-control" id="productName" readonly>@orderProd.Product.Name</div>
                            </td>
                            <td>
                                <div type="text" class="form-control" id="productType" readonly>@orderProd.Product.ProductType.Name</div>
                            </td>
                            <td>
                                <div type="number" class="form-control" id="prodPrice" readonly>@orderProd.Price</div>
                            </td>
                            <td>
                                <div type="number" class="form-control" id="prodQuantity" readonly>@orderProd.Quantity</div>
                            </td>
                            <td>
                                <div type="number" class="form-control" id="prodDiscount" readonly>@orderProd.Discount</div>
                            </td>
                            <td>
                                <div type="number" class="form-control" id="finalPrice" readonly>@orderProd.FinalPrice</div>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
            <div class="mb-3">
                <label asp-for="Subtotal">Total</label>
                <div type="text" class="form-control" id="totalSum" readonly>@Model.Subtotal</div>
            </div>
            <div class="form-group">
                @*@if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
                {
                <a class="btn btn-outline-success float-right" asp-action="Edit" asp-route-id="@Model.Id">Edit</a>
                }*@
                
                <a type="button" asp-controller="Order" asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">Edit</a>
                <a type="button" href="/Order/Index" class="btn btn-secondary">Show All</a>
            </div>
    </form>
</div>
